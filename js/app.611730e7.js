(function(){"use strict";var e={6160:function(e,n,t){var a=t(9242),r=t(3396);const o={class:"header"},s=(0,r._)("section",null,[(0,r._)("img",{src:"/logo.svg",alt:"logo",class:"header__logo"})],-1),c=[s];function i(e,n){return(0,r.wg)(),(0,r.iD)("header",o,c)}var l=t(89);const u={},_=(0,l.Z)(u,[["render",i]]);var d=_;const v={class:"intro"},f=(0,r._)("div",{class:"intro__background"},[(0,r._)("img",{src:"/intro.jpg",alt:"intro",class:"intro__background__img"})],-1),p={class:"intro__content"};function w(e,n){return(0,r.wg)(),(0,r.iD)("div",v,[f,(0,r._)("section",p,[(0,r.WI)(e.$slots,"default")])])}const g={},h=(0,l.Z)(g,[["render",w]]);var m=h,y=t(7139),b=t(4870);async function k(e){return new Promise((n=>setTimeout(n,e)))}const D={class:"loading__content"},O={class:"loading__loader"},j=(0,r._)("span",{class:"loading__loader__spinner"},null,-1),H=[j];var P={__name:"app-loading",props:{active:{type:Boolean,default:!1}},setup(e){const n=e,t=(0,b.iH)(!1);async function o(){t.value=!1}async function s(){await k(300),t.value=!0}return(0,r.m0)((()=>{n.active?o():s()})),(n,o)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,y.C_)(["loading",{loading_active:e.active}])},[(0,r._)("div",D,[(0,r.WI)(n.$slots,"default")]),(0,r.wy)((0,r._)("div",O,H,512),[[a.F8,!t.value]])],2))}};const W=P;var A=W;const F={key:0,class:"card__preview"},$=["src"],E={class:"card__content"};var I={__name:"app-card",props:{src:{type:String,default:"/news-preview.png"}},setup(e){return(n,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,y.C_)(["card",{card_image:!!e.src}])},[e.src?((0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("img",{src:e.src,alt:"card-preview",class:"card__preview__img"},null,8,$)])):(0,r.kq)("",!0),(0,r._)("div",E,[(0,r.WI)(n.$slots,"default")])],2))}};const S=I;var T=S;const x=["January","February","March","April","May","June","July","August","September","October","November","December"];function M(e){return x[e]}const z={class:"news__card__info"},C={class:"news__card__info__date"},U={class:"news__card__info__date__day"},q={class:"news__card__info__date__other"},B={class:"news__card__info__title"},J=["innerHTML"],N={class:"news__card__tag"};var Y={__name:"page-news-card",props:{preview:{type:String,default:"/news-preview.png"},date:{type:Date,default:new Date},description:{type:String,required:!1}},setup(e){const n=e,t=(0,r.Fl)((()=>n.date.getFullYear())),a=(0,r.Fl)((()=>M(n.date.getMonth()))),o=(0,r.Fl)((()=>{const e=n.date.getDate();return(e>9?"":"0")+e}));return(n,s)=>((0,r.wg)(),(0,r.j4)(T,{src:e.preview,class:"news__card"},{default:(0,r.w5)((()=>[(0,r._)("div",z,[(0,r._)("div",C,[(0,r._)("span",U,(0,y.zw)(o.value),1),(0,r._)("span",q,(0,y.zw)(a.value)+" "+(0,y.zw)(t.value),1)]),(0,r._)("h2",B,[(0,r.WI)(n.$slots,"title")]),e.description?((0,r.wg)(),(0,r.iD)("p",{key:0,class:"news__card__info__description",innerHTML:e.description},null,8,J)):(0,r.kq)("",!0)]),(0,r._)("span",N,[(0,r.WI)(n.$slots,"tag",{},(()=>[(0,r.Uk)("Новости")]))])])),_:3},8,["src"]))}};const Z=Y;var L=Z;const{VUE_APP_BASE_API:V}={VUE_APP_BASE_API:"https://flems.github.io/test/api"};function G(e,n="GET",t){return fetch(`${V}${e}`,{method:n,...t})}async function K(e){const n="/news"+(isNaN(e)||e<1?"":`/${e}`),t=await G(n);if(!t.ok)throw new Error("Something went wrong!");const{nav:a,items:r}=await t.json(),{total:o,current:s}=a,c=r.map((e=>({...e,date:new Date(1e3*e.date)})));return{total:o,current:s,news:c}}const Q={class:"news"},R={key:0,class:"news__row"};var X={__name:"page-news-list",setup(e){const n=(0,b.iH)(!1),t=(0,b.iH)(0),o=(0,b.iH)(0),s=(0,b.iH)([]);async function c(){n.value=!0;try{if(t.value&&o.value>=t.value)return;const e=o.value?o.value+1:null,n=await K(e);t.value=n.total,o.value=n.current,s.value=s.value.concat(n.news)}catch(e){console.log(e)}finally{n.value=!1}}return c(),(e,i)=>((0,r.wg)(),(0,r.j4)(A,{active:n.value},{default:(0,r.w5)((()=>[(0,r._)("section",Q,[s.value?.length?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(s.value,(e=>((0,r.wg)(),(0,r.j4)(L,{key:e.code,src:e.image,date:e.date,description:e.previewText},{title:(0,r.w5)((()=>[(0,r.Uk)((0,y.zw)(e.name),1)])),tag:(0,r.w5)((()=>[(0,r.Uk)((0,y.zw)(e.type.value),1)])),_:2},1032,["src","date","description"])))),128)):((0,r.wg)(),(0,r.iD)("h3",R,"Нет новостей")),(0,r.wy)((0,r._)("button",{class:"news__row",onClick:c}," Загрузить ещё ",512),[[a.F8,o.value&&o.value<t.value]])])])),_:1},8,["active"]))}};const ee=X;var ne=ee;const te={class:"footer"},ae=(0,r._)("section",{class:"footer__content"},[(0,r._)("img",{src:"/logo.svg",alt:"logo",class:"footer__content__logo"}),(0,r._)("span",{class:"footer__content__mark"},"© alpha, 2023")],-1),re=[ae];function oe(e,n){return(0,r.wg)(),(0,r.iD)("footer",te,re)}const se={},ce=(0,l.Z)(se,[["render",oe]]);var ie=ce;const le=(0,r._)("h1",null,"Новости",-1);var ue={__name:"app",setup(e){return(e,n)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(d),(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[le])),_:1}),(0,r.Wm)(ne),(0,r.Wm)(ie)],64))}};const _e=ue;var de=_e;const ve=(0,a.ri)(de);ve.mount("#app")}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var o=n[a]={exports:{}};return e[a].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,a,r,o){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],o=e[u][2];for(var c=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(t.O).every((function(e){return t.O[e](a[i])}))?a.splice(i--,1):(c=!1,o<s&&(s=o));if(c){e.splice(u--,1);var l=r();void 0!==l&&(n=l)}}return n}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,r,o]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,a){var r,o,s=a[0],c=a[1],i=a[2],l=0;if(s.some((function(n){return 0!==e[n]}))){for(r in c)t.o(c,r)&&(t.m[r]=c[r]);if(i)var u=i(t)}for(n&&n(a);l<s.length;l++)o=s[l],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},a=self["webpackChunkalpha"]=self["webpackChunkalpha"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(6160)}));a=t.O(a)})();
//# sourceMappingURL=app.611730e7.js.map